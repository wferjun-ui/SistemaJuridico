<UserControl x:Class="SistemaJuridico.Views.RelatoriosView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <UserControl.Resources>
        <Style TargetType="Button">
            <Setter Property="Padding" Value="12,7"/>
            <Setter Property="Margin" Value="4"/>
            <Setter Property="MinWidth" Value="140"/>
            <Setter Property="Background" Value="#4F46E5"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#4F46E5"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
    </UserControl.Resources>

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="#FFF8FAFC" BorderBrush="#FFE2E8F0" BorderThickness="1" CornerRadius="10" Padding="12" Margin="0,0,0,10">
            <WrapPanel>
                <StackPanel Margin="0,0,12,8">
                    <TextBlock Text="Número"/>
                    <TextBox Width="150" Text="{Binding NumeroFiltro, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>
                <StackPanel Margin="0,0,12,8">
                    <TextBlock Text="Paciente"/>
                    <TextBox Width="170" Text="{Binding PacienteFiltro, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>
                <StackPanel Margin="0,0,12,8">
                    <TextBlock Text="Genitor"/>
                    <TextBox Width="160" Text="{Binding GenitorFiltro, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>
                <StackPanel Margin="0,0,12,8">
                    <TextBlock Text="Juiz"/>
                    <TextBox Width="160" Text="{Binding JuizFiltro, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>
                <StackPanel Margin="0,0,12,8">
                    <TextBlock Text="Status"/>
                    <TextBox Width="140" Text="{Binding StatusFiltro, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>
                <StackPanel Margin="0,0,12,8">
                    <TextBlock Text="Tipo/Categoria"/>
                    <TextBox Width="150" Text="{Binding TipoFiltro, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>
            </WrapPanel>
        </Border>

        <Border Grid.Row="1" Background="#FFF8FAFC" BorderBrush="#FFE2E8F0" BorderThickness="1" CornerRadius="10" Padding="12" Margin="0,0,0,10">
            <DockPanel>
                <TextBlock DockPanel.Dock="Left" VerticalAlignment="Center" Text="{Binding TotalResultados, StringFormat=Resultados: {0}}" FontWeight="SemiBold"/>
                <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="Buscar" Command="{Binding BuscarCommand}"/>
                    <Button Content="Limpar" Command="{Binding LimparFiltrosCommand}" Background="#64748B" BorderBrush="#64748B"/>
                </StackPanel>
            </DockPanel>
        </Border>

        <DataGrid Grid.Row="2"
                  ItemsSource="{Binding Processos}"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  IsReadOnly="False"
                  HeadersVisibility="Column"
                  ScrollViewer.CanContentScroll="True">
            <DataGrid.Columns>
                <DataGridCheckBoxColumn Header="Sel." Binding="{Binding Selecionado}" Width="45"/>
                <DataGridTextColumn Header="Número" Binding="{Binding Numero}" Width="130"/>
                <DataGridTextColumn Header="Paciente" Binding="{Binding Paciente}" Width="*"/>
                <DataGridTextColumn Header="Genitor" Binding="{Binding Genitor}" Width="150"/>
                <DataGridTextColumn Header="Juiz" Binding="{Binding Juiz}" Width="150"/>
                <DataGridTextColumn Header="Tipo" Binding="{Binding Tipo}" Width="140"/>
                <DataGridTextColumn Header="Categoria" Binding="{Binding Categoria}" Width="120"/>
                <DataGridTextColumn Header="Status Atual" Binding="{Binding StatusAtual}" Width="150"/>
            </DataGrid.Columns>
        </DataGrid>

        <Grid Grid.Row="3" Margin="0,10,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="0" HorizontalAlignment="Left">
                <Button Content="Cancelar" Background="#EF4444" BorderBrush="#EF4444" Command="{Binding LimparFiltrosCommand}"/>
            </StackPanel>
            <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                <Button Content="Gerar PDF dos selecionados" Command="{Binding ExportarPdfSelecionadosCommand}"/>
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>
