<Window x:Class="SistemaJuridico.Views.ProcessoDetalhesWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Detalhes do Processo"
        Height="700"
        Width="900">

    <Grid Margin="15">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ===================== -->
        <!-- DADOS DO PROCESSO -->
        <!-- ===================== -->

        <GroupBox Header="Dados do Processo">
            <StackPanel Margin="10">

                <TextBlock Text="{Binding Processo.Numero}" 
                           FontSize="16"
                           FontWeight="Bold"/>

                <TextBlock Text="{Binding Processo.Paciente}"/>

                <TextBlock Text="{Binding UsuarioEditandoTexto}"
                           Foreground="Red"
                           FontWeight="Bold"/>

            </StackPanel>
        </GroupBox>

        <!-- ===================== -->
        <!-- ABAS -->
        <!-- ===================== -->

        <TabControl Grid.Row="1">

            <!-- CONTAS -->
            <TabItem Header="Contas">
                <DataGrid ItemsSource="{Binding Contas}"
                          AutoGenerateColumns="True"/>
            </TabItem>

            <!-- ITENS SAÚDE -->
            <TabItem Header="Itens Saúde">
                <DataGrid ItemsSource="{Binding ItensSaude}"
                          AutoGenerateColumns="True"/>
            </TabItem>

            <!-- VERIFICAÇÕES -->
            <TabItem Header="Verificações">
                <DataGrid ItemsSource="{Binding Verificacoes}"
                          AutoGenerateColumns="True"/>
            </TabItem>

            <!-- DILIGÊNCIAS -->
            <TabItem Header="Diligências">
                <DataGrid ItemsSource="{Binding Diligencias}"
                          AutoGenerateColumns="True"/>
            </TabItem>

        </TabControl>

        <!-- ===================== -->
        <!-- BOTÕES -->
        <!-- ===================== -->

        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0 10 0 0">

            <Button Content="Salvar Rascunho"
                    Command="{Binding SalvarRascunhoCommand}"
                    Margin="5"/>

            <Button Content="Concluir Edição"
                    Command="{Binding ConcluirEdicaoCommand}"
                    Margin="5"/>

            <Button Content="Nova Verificação"
                    Command="{Binding NovaVerificacaoCommand}"
                    Margin="5"/>

            <Button Content="Nova Diligência"
                    Command="{Binding NovaDiligenciaCommand}"
                    Margin="5"/>

            <!-- ✅ NOVO BOTÃO PDF -->
            <Button Content="Gerar Relatório PDF"
                    Command="{Binding GerarRelatorioCommand}"
                    Margin="5"
                    Background="#2E7D32"
                    Foreground="White"
                    FontWeight="Bold"/>
        </StackPanel>

    </Grid>
</Window>
